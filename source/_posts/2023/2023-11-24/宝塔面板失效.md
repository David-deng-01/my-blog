---
title: 宝塔面板失效
tags:
  - 宝塔面板
  - Linux
categories:
  - Linux
keywords: '宝塔面板,Linux'
description: '宝塔面板失效'
abbrlink: 13196
date: 2023-11-24 16:19:27
---

# 宝塔面板失效



## 1. 问题起因：

由于服务器的硬盘容量不足，所以新增了两块硬盘。看着新增硬盘里面空荡荡的，就想着把之前硬盘里面的东西移一些到新硬盘里面，减轻之前硬盘的压力。所以想当然的把`/www`移动到了新硬盘上面，然后通过`ln`命令创建一个硬链接过去，完美解决之前硬盘容量不够和新硬盘空荡荡的问题。

这时就出现了一个问题: `/www` 目录下的一些文件没有访问的权限，并且在`root`用户权限下也没有访问的权限，导致移动失败，并且文件无法删除，显示没有权限删除。



## 2. 问题解决：

通过查看服务器上的文件发现，没有权限访问的文件是使用`宝塔面板`创建网站时自动创建的`.user.ini`文件。

知道文件怎么创建的以后，就凭直觉的想到使用`宝塔面板`肯定能删除，因为这个文件其实对于网站来说的作用并不大，并且可以后面再手动创建一个新的`.user.ini`文件。

然后，打开浏览器，访问`宝塔面板`管理界面，就尴尬了...

页面无法访问(404 not found)

突然，脑子都懵了...

然后手动把`/www` 文件夹移动回去，想着文件都没有修改，应该问题不大

然后，再次打开浏览器，访问`宝塔面板`管理界面，又尴住了...

页面显示`宝塔面板`被损坏了，可以点击右上角的修复按钮进行修复或者去官方论坛发帖求助，但是右上角并没有修复按钮...(因为当时忘记截图了，所以没有把报错的界面放在这)

最后，通过命令行输入`bt` 然后修复并升级`宝塔面板`，显示修复成功

怀着忐忑的心情，打开浏览器，访问`宝塔面板`管理界面，奇迹出现了，显示了登录界面并且数据啥的全部没有丢失

至此，这个问题算是完美解决了



## 3. 问题总结

首先，出现这个问题纯属自己手贱，想着移动`/www`文件夹之后创建一个硬链接就行了，但是并没有成功。这件事情告诉我们能够运行的代码，千万不要动它！不然就会出现意想不到的问题。

其次，如果遇到了`宝塔面板`界面无法访问的情况，及时使用`ssh工具`进入服务器的后台，将`宝塔面板`进行修复，有较大概率是可以自动修复好的，如果没有修复成功那就只能备份数据，重新安装`宝塔面板`了。

最后，千万不要手贱！千万不要手贱！千万不要手贱！能运行的代码千万不要手贱去动它，不然分分钟崩溃给你看。

